# 预习思考题及实验验证
# 2.1 2号功能实现
DATAS SEGMENT
	OUTPUT DB 'Welcome to TPC!'
	COUNT EQU $-OUTPUT
DATAS ENDS

STACKS SEGMENT 'STACK'
    DB 100 DUP(?)
STACKS ENDS

CODES SEGMENT
      ASSUME CS:CODES,DS:DATAS,SS:STACKS
START: MOV AX,DATAS
	   MOV DS,AX
	   MOV BX,0
	   MOV CX,COUNT
LOOP1: MOV DL,OUTPUT[BX]
	   MOV AH,02H
       INT 21H
       INC BX
       LOOP LOOP1
       MOV AX,4C00H
       INT 21H
CODES ENDS
    END START


# 2.2 9号功能实现
DATAS SEGMENT
	OUTPUT DB 'Welcome to TPC!$'
DATAS ENDS

STACKS SEGMENT 'STACK'
    DB 100 DUP(?)
STACKS ENDS

CODES SEGMENT
    ASSUME CS:CODES,DS:DATAS,SS:STACKS
START: MOV AX,DATAS
	   MOV DS,AX
	   LEA DX,OUTPUT
	   MOV AH,09H
       INT 21H
       MOV AX,4C00H
       INT 21H
CODES ENDS
    END START


# 3
DATAS SEGMENT
	BUF   DB 'ASM2015'
	COUNT EQU $-BUF
	      DB '$'
DATAS ENDS

STACKS SEGMENT 'STACK'
    DB 100 DUP(?)
STACKS ENDS

CODES SEGMENT
    ASSUME CS:CODES,DS:DATAS,SS:STACKS
START: MOV AX,DATAS
	   MOV DS,AX
	   MOV CX,COUNT
	   DEC CX
	   MOV DX,CX
L1:	   MOV CX,DX
	   MOV BX,0
L2:	   MOV AL,BUF[BX]
	   CMP AL,BUF[BX+1]
	   JAE COU
	   XCHG AL,BUF[BX+1]
	   MOV BUF[BX],AL
COU:   INC BX
	   LOOP L2
	   DEC DX
	   JNZ L1
	   MOV AH,09H
	   LEA DX,BUF
	   INT 21H
       MOV AX,4C00H
       INT 21H
CODES ENDS
    END START
